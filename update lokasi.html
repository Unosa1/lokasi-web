<!DOCTYPE html>
<html>
<head>
  <title>Absen Lokasi</title>
</head>
<body>
  <h2>Absen Lokasi</h2>
  <button onclick="kirimLokasi()">Kirim Lokasi</button>
  <p id="status"></p>

  <script>
    function kirimLokasi() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(function(posisi) {
          fetch("https://script.google.com/macros/s/AKfycbzDCeRMsyc0WGki4T1e6ZuR8HbOmEFI04peBB_Zorbx5FS7nrVOwhWlk7SsfULZJVPj/exec", {
            method: "POST",
            body: JSON.stringify({
              latitude: posisi.coords.latitude,
              longitude: posisi.coords.longitude,
              userAgent: navigator.userAgent
            }),
            headers: {
              "Content-Type": "application/json"
            }
          }).then(res => res.text()).then(teks => {
            document.getElementById("status").innerText = teks;
          });
        }, function(error) {
          document.getElementById("status").innerText = "Gagal ambil lokasi!";
        });
      } else {
        document.getElementById("status").innerText = "Geolocation tidak didukung browser ini.";
      }
    }
  </script>
</body>
</html>
